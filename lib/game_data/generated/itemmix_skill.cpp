/**********************************************************
         AUTO GENERATED FILE BY sox_code_generator
                   DO NOT EDIT THIS FILE
**********************************************************/
#include "itemmix_skill.h"

#include "lib/common/stream/stream_reader.h"
#include "lib/game_base/data/sox/sox_file.h"
#include "lib/game_data/game_data_registry.h"

namespace cebreiro::gamedata
{
	[[maybe_unused]]
	static GameDataRegistry<ItemmixSkillTable> registry;

	ItemmixSkill::ItemmixSkill(StreamReader& reader)
	{
		index = reader.ReadInt32();
		iD = reader.ReadInt32();
		name = reader.ReadString(reader.ReadUInt16());
		type = reader.ReadInt32();
		difficultyType = reader.ReadInt32();
		requiredJobID = reader.ReadInt32();
		requiredJobLevel = reader.ReadInt32();
		requiredSkillID = reader.ReadInt32();
		requiredSkillLevel = reader.ReadInt32();
		mixGroupID1 = reader.ReadInt32();
		mixGroupID1Level = reader.ReadInt32();
		mixGroupID2 = reader.ReadInt32();
		mixGroupID2Level = reader.ReadInt32();
		mixGroupID3 = reader.ReadInt32();
		mixGroupID3Level = reader.ReadInt32();
		mixGroupID4 = reader.ReadInt32();
		mixGroupID4Level = reader.ReadInt32();
		mixGroupID5 = reader.ReadInt32();
		mixGroupID5Level = reader.ReadInt32();
		mixGroupID6 = reader.ReadInt32();
		mixGroupID6Level = reader.ReadInt32();
		skillDescription = reader.ReadString(reader.ReadUInt16());
		maxDepth = reader.ReadInt32();
		maxDepthWide1 = reader.ReadInt32();
		depthName11 = reader.ReadString(reader.ReadUInt16());
		depthID11 = reader.ReadInt32();
		categoryDes11 = reader.ReadString(reader.ReadUInt16());
		depthTxID11 = reader.ReadInt32();
		depthTxNum11 = reader.ReadInt32();
		depthName12 = reader.ReadString(reader.ReadUInt16());
		depthID12 = reader.ReadInt32();
		categoryDes12 = reader.ReadString(reader.ReadUInt16());
		depthTxID12 = reader.ReadInt32();
		depthTxNum12 = reader.ReadInt32();
		depthName13 = reader.ReadString(reader.ReadUInt16());
		depthID13 = reader.ReadInt32();
		categoryDes13 = reader.ReadString(reader.ReadUInt16());
		depthTxID13 = reader.ReadInt32();
		depthTxNum13 = reader.ReadInt32();
		depthName14 = reader.ReadString(reader.ReadUInt16());
		depthID14 = reader.ReadInt32();
		categoryDes14 = reader.ReadString(reader.ReadUInt16());
		depthTxID14 = reader.ReadInt32();
		depthTxNum14 = reader.ReadInt32();
		depthName15 = reader.ReadString(reader.ReadUInt16());
		depthID15 = reader.ReadInt32();
		categoryDes15 = reader.ReadString(reader.ReadUInt16());
		depthTxID15 = reader.ReadInt32();
		depthTxNum15 = reader.ReadInt32();
		depthName16 = reader.ReadString(reader.ReadUInt16());
		depthID16 = reader.ReadInt32();
		categoryDes16 = reader.ReadString(reader.ReadUInt16());
		depthTxID16 = reader.ReadInt32();
		depthTxNum16 = reader.ReadInt32();
		maxDepthWide2 = reader.ReadInt32();
		depthName21 = reader.ReadString(reader.ReadUInt16());
		depthID21 = reader.ReadInt32();
		categoryDes21 = reader.ReadString(reader.ReadUInt16());
		depthTxID21 = reader.ReadInt32();
		depthTxNum21 = reader.ReadInt32();
		depthName22 = reader.ReadString(reader.ReadUInt16());
		depthID22 = reader.ReadInt32();
		categoryDes22 = reader.ReadString(reader.ReadUInt16());
		depthTxID22 = reader.ReadInt32();
		depthTxNum22 = reader.ReadInt32();
		depthName23 = reader.ReadString(reader.ReadUInt16());
		depthID23 = reader.ReadInt32();
		categoryDes23 = reader.ReadString(reader.ReadUInt16());
		depthTxID23 = reader.ReadInt32();
		depthTxNum23 = reader.ReadInt32();
		depthName24 = reader.ReadString(reader.ReadUInt16());
		depthID24 = reader.ReadInt32();
		categoryDes24 = reader.ReadString(reader.ReadUInt16());
		depthTxID24 = reader.ReadInt32();
		depthTxNum24 = reader.ReadInt32();
		maxDepthWide3 = reader.ReadInt32();
		depthName31 = reader.ReadString(reader.ReadUInt16());
		depthID31 = reader.ReadInt32();
		categoryDes31 = reader.ReadString(reader.ReadUInt16());
		depthTxID31 = reader.ReadInt32();
		depthTxNum31 = reader.ReadInt32();
		depthName32 = reader.ReadString(reader.ReadUInt16());
		depthID32 = reader.ReadInt32();
		categoryDes32 = reader.ReadString(reader.ReadUInt16());
		depthTxID32 = reader.ReadInt32();
		depthTxNum32 = reader.ReadInt32();
		depthName33 = reader.ReadString(reader.ReadUInt16());
		depthID33 = reader.ReadInt32();
		categoryDes33 = reader.ReadString(reader.ReadUInt16());
		depthTxID33 = reader.ReadInt32();
		depthTxNum33 = reader.ReadInt32();
		depthName34 = reader.ReadString(reader.ReadUInt16());
		depthID34 = reader.ReadInt32();
		categoryDes34 = reader.ReadString(reader.ReadUInt16());
		depthTxID34 = reader.ReadInt32();
		depthTxNum34 = reader.ReadInt32();
	}

	void ItemmixSkillTable::LoadFromFile(const std::filesystem::path& path)
	{
		gamebase::SoxFile fileData(path / "ITEMMIX_SKILL.sox");
		StreamReader reader(fileData.gameData.data(), fileData.gameData.size());

		_vector.reserve(fileData.rowCount);
		for (int32_t i = 0; i < fileData.rowCount; ++i)
		{
			_vector.emplace_back(reader);
		}

		for (const ItemmixSkill& data : _vector)
		{
			_umap[data.index] = &data;
		}
	}

	auto ItemmixSkillTable::Find(int32_t index) const -> const ItemmixSkill*
	{
		auto iter = _umap.find(index);
		return iter != _umap.end() ? iter->second : nullptr;
	}

	auto ItemmixSkillTable::Get() const -> const std::vector<ItemmixSkill>&
	{
		return _vector;
	}
}
